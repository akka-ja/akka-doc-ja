# 翻訳ガイドライン

翻訳にご協力頂く際は、以下のガイドラインを参考にしてください。
不明点があれば、[Gitter](https://gitter.im/akka-ja/akka-doc-ja)からお気軽にご相談ください。

## 作業の流れ

1. 作業環境を準備する
2. 担当するissue を決める
3. 翻訳する
    * ブラウザ上で未翻訳の対象ファイルを選択し翻訳してください
    * 詳細手順は別途追記予定

## 1.作業環境を準備する

作業には GitHub と Transifex のアカウントが必要です。まだアカウントを持っていない場合は以下よりサインアップして下さい。
※翻訳はTransifexから行うと自動的にGitHubに連携されます（未設定）ので、GitHubからプルリク/push等、直接編集しないでください。
* [GitHub](https://github.com/join) 
* [Transifex](https://www.transifex.com/akka-ja/)

## 2.担当するissue を決める

### (1)ファイル単位で翻訳する場合

他の翻訳者と作業が衝突しないよう、作業に取り掛かる前に [issues](https://github.com/akka-ja/akka-doc-ja/issues) を確認してください。作業対象ファイル名で [issues を検索する](https://help.github.com/articles/searching-issues/) と効率的です。

- issue が登録されていない場合
  - 新しく issue を登録してください
    - タイトルまたは本文に対象ドキュメントへのパスを `Actors - Typed Actors` のように記入してください
    - Label や Milestones, assignee を設定する必要はありません
- issue は登録されているが、誰も着手していない場合
  - コメント欄にて作業に着手する旨を宣言してください。内容はどんなものでも構いません
  - akka-ja のメンバーは、自分を assignee に設定してください
- issue が登録されていて、誰か着手している場合
  - コメント欄にて担当者とコミュニケーションを取り、作業を分担するか、残作業を引き継いでください

### (2)センテンス単位で翻訳する場合

本手順は必要ありません。

## 3.翻訳する

以下のルールに従って翻訳してください。

### 全角文字と半角文字

英数字と記号は原則として半角で記述してください。

- 数字: `0` から `9`
- 小括弧: `(` と `)`
- 感嘆符: `!`
- 疑問符: `?`

カタカナ、句読点は全角で記述してください。

- 句点: `、`

### スペース

reStructuredText 記法でマークアップするテキストの前後には、半角スペースを挿入してください。
reStructuredText 記法の詳細は [reStructuredText入門](http://docs.sphinx-users.jp/rest.html) を参照してください。

```
アクターは :class:`Actor` という基本 trait を拡張することで実装することができます。
```

最後に、可読性向上のため、原則として全角文字と半角文字の間に半角スペースをひとつ挿入してください。ただし、以下は例外とします。

- 全角句読点と (reStructuredText 記法ではない) 半角英数字が続く場合
- 半角開き小括弧 `(` の直後に全角文字が続く場合
- 全角文字の直後に半角閉じ小括弧 `)` が続く場合

以下の例の場合、最初の `Java` の前、`Linux` の前、`(` の後、`)` の前、そして `Windows` の前に半角スペースを挿入する必要はありません。

> MacOS を使っているなら、Java は導入済みです。また、Linux を使っているなら Sun JDK か OpenJDK のいずれかを使えるか確認してください (また gcj があるかどうかも確認してください。これは多くの Linux のディストリビューションで標準の Java コマンドです) 。Windows を使っている場合は最新の JDK をダウンロードしてインストールしてください。


### 語調の統一

**語尾は「〜です。」「〜ます。」等の、いわゆる「ですます調」で結んでください。「〜だ。」「〜である。」の等の、いわゆる「である調」にしないでください。**


### 訳語の統一

固有名詞や専門的な用語を無理に翻訳する必要はありません。

表記揺れなどで迷った場合は、Google や英辞郎 on the WEB の検索結果を目安にしてください。

- 例: repository
  - リポジトリ: 約 2,030,000 件
  - レポジトリ: 約 363,000 件
  - [repositoryの意味・用例｜英辞郎 on the WEB：アルク](http://eow.alc.co.jp/search?q=repository)


### 原文の誤りについて

原文の誤りを発見した場合は、以下の手順に従って対応してください。

1. [英語版ドキュメントの最新版](https://github.com/akka/akka/tree/master/akka-docs) を確認して、発見した誤りが修正されていないことを確認する
2. 英語版ドキュメントを修正して pull request を送る
3. pull request がマージされたことを確認する
4. 翻訳文に修正を反映する

状況に応じて上記の手順が多少前後しても構いませんが、翻訳文だけが改善されて、英語版ドキュメントにフィードバックされない状況は避けてください。


### 意訳、訳註について

原則として、原文に存在しない情報は付け加えないでください。

英語版ドキュメントを改善することで翻訳文が読み易くなる場合は、原文の誤りを発見した場合と同様の手順で英語版ドキュメントを改善し、それから翻訳文に反映してください。

英語版ドキュメントに改善の余地はなく、意訳または訳註を行うことで翻訳版の可読性が著しく向上する場合にのみ、意訳または訳註を行い、コミットコメントにその旨を追記してください。

以下の場合は、意訳を検討するとよいでしょう。
- 英語特有の表現を含む場合
  - 例: `out of the box` => 直訳: `箱から取り出して (そのまま) `  、意訳: `特別な設定をしなくても`

以下の場合は、訳註を検討するとよいでしょう。訳註は `(訳註: xxx)` のように記述してください。
- 英語を母語とする人以外には分かりづらい文脈が前提として存在している場合
  - 例: 英語のジョーク、映画の台詞の引用など

その他、訳語は存在するものの、日本語として馴染みがなく分かりづらい場合は、適宜、意訳または訳註を行ってください。


## コメント

翻訳に自信のない箇所など、特にレビューや議論が必要な場合は、Transifexのコメント機能を利用してコメントしてください。

----

## Sphinx

### インストール
```
$ pip install sphinx
$ pip install 'requests[security]'
$ pip install sphinx-intl
```

### potファイルの作成

```
$ git clone https://github.com/akka-ja/akka-doc-ja.git
$ cd akka-doc-ja/rst
$ # potファイル(テンプレートファイル)の作成
$ sphinx-build -b gettext . _build/gettext
$ # potファイルを*.poにリネームして移動
$ sphinx-intl update -p _build/gettext -l ja
```

### htmlのビルド

```
$ cd akka-doc-ja/rst
$ sphinx-build -c . -D pygments_style=sphinx -D language='ja' -a -b html . _build/html
```

